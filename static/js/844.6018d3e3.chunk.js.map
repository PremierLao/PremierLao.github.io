{"version":3,"file":"static/js/844.6018d3e3.chunk.js","mappings":"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","sources":["utils/user.ts","components/id-select.tsx","components/user-select.tsx","screens/project-list/search-panel.tsx","components/pin.tsx","utils/reorder.ts","utils/use-optimistic-options.ts","utils/project.ts","utils/url.ts","screens/project-list/util.ts","screens/project-list/list.tsx","components/profiler.tsx","screens/project-list/index.tsx","assets/software-logo.svg","utils/task.ts","screens/kanban/util.ts","utils/task-type.ts","assets/task.svg","assets/bug.svg","screens/kanban/create-task.tsx","components/mark.tsx","utils/kanban.ts","components/drag-and-drop.tsx","screens/kanban/kanban-column.tsx","components/task-type-select.tsx","screens/kanban/search-panel.tsx","screens/kanban/create-kanban.tsx","utils/epic.ts","components/epic-select.tsx","screens/kanban/task-modal.tsx","screens/kanban/index.tsx","screens/epic/util.ts","screens/epic/create-epic.tsx","screens/epic/index.tsx","screens/project/index.tsx","components/project-popover.tsx","screens/project-list/project-modal.tsx","components/user-popover.tsx","authenticated-app.tsx"],"sourcesContent":["import { useHttp } from \"./http\";\r\nimport { User } from \"../types/user\";\r\nimport { useQuery } from \"react-query\";\r\n\r\nexport const useUsers = (param?: Partial<User>) => {\r\n  const client = useHttp();\r\n\r\n  return useQuery<User[]>([\"users\", param], () =>\r\n    client(\"users\", { data: param })\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\nimport {Raw} from \"../types\";\r\n\r\ntype SelectProps = React.ComponentProps<typeof Select>;\r\n\r\ninterface IdSelectProps\r\n    extends Omit<SelectProps, \"value\" | \"onChange\" | \"options\"> {\r\n    value?: Raw | null | undefined;\r\n    onChange?: (value?: number) => void;\r\n    defaultOptionName?: string;\r\n    options?: { name: string; id: number }[];\r\n}\r\n\r\n/**\r\n * value 可以传入多种类型的值\r\n * onChange只会回调 number|undefined 类型\r\n * 当 isNaN(Number(value)) 为true的时候，代表选择默认类型\r\n * 当选择默认类型的时候，onChange会回调undefined\r\n * @param props\r\n * @constructor\r\n */\r\nexport const IdSelect = (props: IdSelectProps) => {\r\n    const { value, onChange, defaultOptionName, options, ...restProps } = props;\r\n    return (\r\n        <Select\r\n            value={options?.length ? toNumber(value) : 0}\r\n            onChange={(value) => onChange?.(toNumber(value) || undefined)}\r\n            /*?.为可选符，如果前面为undefined，后面就不要执行了*/\r\n            {...restProps}\r\n        >\r\n            {defaultOptionName ? (\r\n                <Select.Option value={0}>{defaultOptionName}</Select.Option>\r\n            ) : null}\r\n            {options?.map((option) => (\r\n                <Select.Option key={option.id} value={option.id}>\r\n                    {option.name}\r\n                </Select.Option>\r\n            ))}\r\n        </Select>\r\n    );\r\n};\r\n\r\n\r\nconst toNumber = (value: unknown) => (isNaN(Number(value)) ? 0 : Number(value));\r\n","import React from \"react\";\r\nimport { useUsers} from \"../utils/user\";\r\nimport { IdSelect} from \"./id-select\";\r\n\r\nexport const UserSelect = (props: React.ComponentProps<typeof IdSelect>) => {\r\n    const { data: users } = useUsers();\r\n    return <IdSelect options={users || []} {...props} />;\r\n};\r\n","/** @jsxImportSource @emotion/react */\r\nimport {jsx} from \"@emotion/react\";\r\nimport React from \"react\";\r\nimport {Form, Input, Select} from \"antd\";\r\nimport FormItem from \"antd/es/form/FormItem\";\r\nimport {Project} from \"../../types/project\";\r\nimport {UserSelect} from \"../../components/user-select\";\r\n\r\nexport interface User{\r\n    id:number;\r\n    name:string;\r\n    email:string;\r\n    title:string;\r\n    organization:string;\r\n    token:string;\r\n}\r\ninterface  SearchPanelProps{\r\n    users:User[],\r\n    param:Partial<Pick<Project, 'name' | 'personId'>>\r\n    setParam:(param:SearchPanelProps['param'])=>void;\r\n}\r\nexport const SearchPanel = ({users,param,setParam}:SearchPanelProps) => {\r\n\r\n    return <Form css={{marginBottom:'2rem'}} layout={'inline'}>\r\n        <FormItem>\r\n            {/*setParam(Object.assign({},param,{name:evt.target.value}))*/}\r\n            <Input placeholder={\"项目名\"}\r\n                type={\"text\"} value={param.name} onChange={evt=>setParam({\r\n                ...param,\r\n                name:evt.target.value\r\n            })}/>\r\n        </FormItem>\r\n        <FormItem>\r\n            <UserSelect\r\n                defaultOptionName={'负责人'}\r\n                value={param.personId} onChange={value=>setParam({\r\n                ...param,\r\n                personId: value\r\n            })}/>\r\n        </FormItem>\r\n    </Form>\r\n}","import React from \"react\";\r\nimport { Rate } from \"antd\";\r\n\r\ninterface PinProps extends React.ComponentProps<typeof Rate> {\r\n    checked: boolean;\r\n    onCheckedChange?: (checked: boolean) => void;\r\n}\r\n\r\nexport const Pin = ({ checked, onCheckedChange, ...restProps }: PinProps) => {\r\n    return (\r\n        <Rate\r\n            count={1}\r\n            value={checked ? 1 : 0}\r\n            onChange={(num) => onCheckedChange?.(!!num)}\r\n            {...restProps}\r\n        />\r\n    );\r\n};\r\n","/**\n * 在本地对排序进行乐观更新\n * @param fromId 要排序的项目的id\n * @param type 'before' | 'after'\n * @param referenceId 参照id\n * @param list 要排序的列表, 比如tasks, kanbans\n */\nexport const reorder = ({\n  fromId,\n  type,\n  referenceId,\n  list,\n}: {\n  list: { id: number }[];\n  fromId: number;\n  type: \"after\" | \"before\";\n  referenceId: number;\n}) => {\n  const copiedList = [...list];\n  // 找到fromId对应项目的下标\n  const movingItemIndex = copiedList.findIndex((item) => item.id === fromId);\n  if (!referenceId) {\n    return insertAfter([...copiedList], movingItemIndex, copiedList.length - 1);\n  }\n  const targetIndex = copiedList.findIndex((item) => item.id === referenceId);\n  const insert = type === \"after\" ? insertAfter : insertBefore;\n  return insert([...copiedList], movingItemIndex, targetIndex);\n};\n\n/**\n * 在list中，把from放在to的前边\n * @param list\n * @param from\n * @param to\n */\nconst insertBefore = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex, 0, removedItem);\n  return list;\n};\n\n/**\n * 在list中，把from放在to的后面\n * @param list\n * @param from\n * @param to\n */\nconst insertAfter = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex + 1, 0, removedItem);\n  return list;\n};\n","import { QueryKey, useQueryClient } from \"react-query\";\nimport { reorder } from \"./reorder\";\nimport { Task } from \"../types/task\";\n\nexport const useConfig = (\n  queryKey: QueryKey,\n  callback: (target: any, old?: any[]) => any[]\n) => {\n  const queryClient = useQueryClient();\n  return {\n    onSuccess: () => queryClient.invalidateQueries(queryKey),\n    async onMutate(target: any) {\n      //onMutate表示useMutation一发生，其就被调用\n      const previousItems = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData(queryKey, (old?: any[]) => {\n        return callback(target, old);\n      });\n      return { previousItems };//这里返回的所以值都会在context里面\n    },\n    onError(error: any, newItem: any, context: any) {\n      //可以用context调用数据\n      queryClient.setQueryData(queryKey, context.previousItems);\n    },\n  };\n};\n\nexport const useDeleteConfig = (queryKey: QueryKey) =>\n  useConfig(\n    queryKey,\n    (target, old) => old?.filter((item) => item.id !== target.id) || []\n  );\nexport const useEditConfig = (queryKey: QueryKey) =>\n  useConfig(\n    queryKey,\n    (target, old) =>\n      old?.map((item) =>\n        item.id === target.id ? { ...item, ...target } : item\n      ) || []\n  );\nexport const useAddConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => (old ? [...old, target] : []));\n\nexport const useReorderKanbanConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => reorder({ list: old, ...target }));\n\nexport const useReorderTaskConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => {\n    const orderedList = reorder({ list: old, ...target }) as Task[];\n    //解决跨column问题\n    return orderedList.map((item) =>\n      item.id === target.fromId\n        ? { ...item, kanbanId: target.toKanbanId }\n        : item\n    );\n  });\n","import {Project} from \"../types/project\"\r\nimport {cleanObject} from \"./index\";\r\nimport {useHttp} from \"./http\";\r\nimport {\r\n    useAddConfig,\r\n    useDeleteConfig,\r\n    useEditConfig,\r\n} from \"./use-optimistic-options\";\r\nimport {QueryKey, useMutation, useQuery} from \"react-query\";\r\n\r\n\r\nexport const useProjects = (param?: Partial<Project>) => {\r\n    const client = useHttp();\r\n\r\n    return useQuery<Project[]>([\"projects\", cleanObject(param)], () =>\r\n        client(\"projects\", { data: param })\r\n    );\r\n};\r\n\r\nexport const useEditProject = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n    return useMutation(\r\n        (params: Partial<Project>) =>\r\n            client(`projects/${params.id}`, {\r\n                method: \"PATCH\",\r\n                data: params,\r\n            }),\r\n        useEditConfig(queryKey)\r\n    );\r\n};\r\n\r\nexport const useAddProject = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n\r\n    return useMutation(\r\n        (params: Partial<Project>) =>\r\n            client(`projects`, {\r\n                data: params,\r\n                method: \"POST\",\r\n            }),\r\n        useAddConfig(queryKey)\r\n    );\r\n};\r\n\r\nexport const useDeleteProject = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n\r\n    return useMutation(\r\n        ({ id }: { id: number }) =>\r\n            client(`projects/${id}`, {\r\n                method: \"DELETE\",\r\n            }),\r\n        useDeleteConfig(queryKey)\r\n    );\r\n};\r\n\r\nexport const useProject = (id?: number) => {\r\n    const client = useHttp();\r\n    return useQuery<Project>(\r\n        [\"project\", { id }],\r\n        () => client(`projects/${id}`),\r\n        {\r\n            enabled: Boolean(id),\r\n            //表示当id有值时，才去触发这个project\r\n        }\r\n    );\r\n};\r\n","import { URLSearchParamsInit, useSearchParams } from \"react-router-dom\";\r\nimport { useMemo, useState } from \"react\";\r\nimport {cleanObject,subset} from \"./index\";\r\n\r\n/**\r\n * 返回页面url中，指定键的参数值\r\n */\r\n\r\n//通过react-router-dom库中的setSearchParams获取当前url，再剪切出name与personId后的参数\r\nexport const useUrlQueryParam = <K extends string>(keys: K[]) => {\r\n    const [searchParams] = useSearchParams();\r\n    const setSearchParams = useSetUrlSearchParam();\r\n    //searchParams为自定义hook，能自动获取页面url参数\r\n    const [stateKeys] = useState(keys);\r\n    return [\r\n        useMemo(\r\n            () =>\r\n                subset(Object.fromEntries(searchParams), stateKeys) as {\r\n                    [key in K]: string;\r\n                },\r\n            [searchParams, stateKeys]\r\n        ),\r\n        (params: Partial<{ [key in K]: unknown }>) => {\r\n            return setSearchParams(params);\r\n            // iterator\r\n            // iterator: https://codesandbox.io/s/upbeat-wood-bum3j?file=/src/index.js\r\n        },\r\n    ] as const;\r\n};\r\n\r\nexport const useSetUrlSearchParam = () => {\r\n    const [searchParams, setSearchParam] = useSearchParams();\r\n    return (params: { [key in string]: unknown }) => {\r\n        const o = cleanObject({\r\n            ...Object.fromEntries(searchParams),\r\n            ...params,\r\n        }) as URLSearchParamsInit;\r\n        return setSearchParam(o);\r\n    };\r\n};\r\n","import {useSetUrlSearchParam, useUrlQueryParam } from \"../../utils/url\";\r\nimport { useMemo } from \"react\";\r\nimport {useProject} from \"../../utils/project\";\r\n\r\n// 项目列表搜索的参数\r\nexport const useProjectsSearchParams = () => {\r\n    const [param, setParam] = useUrlQueryParam([\"name\", \"personId\"]);\r\n    return [\r\n        useMemo(()=>({ ...param, personId: Number(param.personId) || undefined }),[param]),\r\n        setParam\r\n    ] as const\r\n};\r\n\r\nexport const useProjectsQueryKey = () => {\r\n    const [params] = useProjectsSearchParams();\r\n    return [\"projects\", params];\r\n};\r\n\r\nexport const useProjectModal = () => {\r\n    const [{ projectCreate }, setProjectCreate] = useUrlQueryParam([\r\n        \"projectCreate\",\r\n    ]);\r\n    const [{ editingProjectId }, setEditingProjectId] = useUrlQueryParam([\r\n        \"editingProjectId\",\r\n    ]);\r\n    const setUrlParams = useSetUrlSearchParam();\r\n    const { data: editingProject, isLoading } = useProject(\r\n        Number(editingProjectId)\r\n    );\r\n\r\n    const open = () => setProjectCreate({ projectCreate: true });\r\n    const close = () => setUrlParams({ projectCreate: \"\", editingProjectId: \"\" });\r\n    const startEdit = (id: number) =>\r\n        setEditingProjectId({ editingProjectId: id });\r\n\r\n    return {\r\n        projectModalOpen: projectCreate === \"true\" || Boolean(editingProjectId),\r\n        open,\r\n        close,\r\n        startEdit,\r\n        editingProject,\r\n        isLoading,\r\n    };\r\n};","import React from \"react\";\r\nimport {User} from \"./search-panel\";\r\nimport {Dropdown,Modal, Menu, Table} from \"antd\";\r\nimport { TableProps } from \"antd/es/table\";\r\nimport dayjs from \"dayjs\";\r\n// react-router 和 react-router-dom的关系，类似于 react 和 react-dom/react-native/react-vr...\r\nimport {Link} from \"react-router-dom\";\r\nimport {Pin} from \"../../components/pin\";\r\nimport {useEditProject,useDeleteProject} from \"../../utils/project\";\r\nimport {ButtonNoPadding} from \"../../components/lib\";\r\nimport {useProjectsQueryKey,useProjectModal} from \"./util\";\r\nimport { Project } from \"../../types/project\";\r\n\r\ninterface ListProps extends TableProps<Project> {\r\n    users: User[];\r\n}\r\n\r\n//不管你放什么键值，先把users提取出来，剩下的全都放在props里\r\nexport const List = ({ users, ...props }: ListProps) => {\r\n    const { mutate } = useEditProject(useProjectsQueryKey());\r\n    const pinProject = (id: number) => (pin: boolean) => mutate({ id, pin });\r\n    return (\r\n        <Table\r\n            rowKey={\"id\"}\r\n            pagination={false}//不需要分页，dataSource是原数据\r\n            columns={[\r\n                {\r\n                    title: <Pin checked={true} disabled={true} />,\r\n                    render(value, project) {\r\n                        return (\r\n                            <Pin\r\n                                checked={project.pin}\r\n                                onCheckedChange={pinProject(project.id)}\r\n                            />\r\n                        );\r\n                    },\r\n                },\r\n                {\r\n                    title: \"名称\",\r\n                    sorter: (a, b) => a.name.localeCompare(b.name),\r\n                    render(value, project) {\r\n                        return (\r\n                            <Link to={`projects/${String(project.id)}`}>{project.name}</Link>\r\n                        );\r\n                    },\r\n                },\r\n                {\r\n                    title: \"部门\",\r\n                    dataIndex: \"organization\",//去对应的project里面，去读它的organization属性\r\n                },\r\n                {\r\n                    title: \"负责人\",\r\n                    render(value, project) {\r\n                        return (\r\n                            <span>\r\n                {users.find((user) => user.id === project.personId)?.name ||\r\n                    \"未知\"}\r\n              </span>\r\n                        );\r\n                    },\r\n                },\r\n                {\r\n                    title: \"创建时间\",\r\n                    render(value, project) {\r\n                        return (\r\n                            <span>\r\n                {project.created\r\n                    ? dayjs(project.created).format(\"YYYY-MM-DD\")\r\n                    : \"无\"}\r\n              </span>\r\n                        );\r\n                    },\r\n                },\r\n                {\r\n                    render(value, project) {\r\n                        return <More project={project} />;\r\n                    },\r\n                },\r\n            ]}\r\n            {...props}//datasource是包含在props里的\r\n        />\r\n    );\r\n};\r\n\r\nconst More = ({ project }: { project: Project }) => {\r\n    const { startEdit } = useProjectModal();\r\n    const editProject = (id: number) => () => startEdit(id);\r\n    const { mutate: deleteProject } = useDeleteProject(useProjectsQueryKey());\r\n    const confirmDeleteProject = (id: number) => {\r\n        Modal.confirm({\r\n            title: \"确定删除这个项目吗?\",\r\n            content: \"点击确定删除\",\r\n            okText: \"确定\",\r\n            onOk() {\r\n                deleteProject({ id });\r\n            },\r\n        });\r\n    };\r\n    return (\r\n        <Dropdown\r\n            overlay={\r\n                <Menu>\r\n                    <Menu.Item onClick={editProject(project.id)} key={\"edit\"}>\r\n                        编辑\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                        onClick={() => confirmDeleteProject(project.id)}\r\n                        key={\"delete\"}\r\n                    >\r\n                        删除\r\n                    </Menu.Item>\r\n                </Menu>\r\n            }\r\n        >\r\n            <ButtonNoPadding type={\"link\"}>...</ButtonNoPadding>\r\n        </Dropdown>\r\n    );\r\n};\r\n","import React, { ProfilerOnRenderCallback, ProfilerProps } from \"react\";\n\ntype Props = { metadata?: any; phases?: (\"mount\" | \"update\")[] } & Omit<\n  ProfilerProps,\n  \"onRender\"\n>;\n\nlet queue: unknown[] = [];\n\nconst sendProfileQueue = () => {\n  if (!queue.length) {\n    return;\n  }\n  const queueToSend = [...queue];\n  queue = [];\n  console.log(queueToSend);\n};\n\nsetInterval(sendProfileQueue, 5000);\n\nexport const Profiler = ({ metadata, phases, ...props }: Props) => {\n  const reportProfile: ProfilerOnRenderCallback = (\n    id,\n    phase,\n    actualDuration,\n    baseDuration,\n    startTime,\n    commitTime,\n    interactions\n  ) => {\n    if (!phases || phases.includes(phase)) {\n      queue.push({\n        id,\n        phase,\n        actualDuration,\n        baseDuration,\n        startTime,\n        commitTime,\n        interactions,\n        metadata,\n      });\n    }\n  };\n\n  return <React.Profiler onRender={reportProfile} {...props} />;\n};\n","import {SearchPanel} from \"./search-panel\";\r\nimport {List} from \"./list\";\r\nimport React from \"react\";\r\nimport { useDebounce, useDocumentTitle} from \"../../utils\";\r\nimport {useProjects} from \"../../utils/project\";\r\nimport {useUsers} from \"../../utils/user\";\r\nimport {useProjectModal, useProjectsSearchParams} from \"./util\";\r\nimport {ButtonNoPadding, ErrorBox, Row,ScreenContainer} from \"../../components/lib\";\r\nimport { Profiler } from \"../../components/profiler\";\r\n// 状态提升可以让组件共享状态，但是容易造成 prop drilling\r\n\r\n// 基本类型，可以放到依赖里；组件状态，可以放到依赖里；非组件状态的对象，绝不可以放到依赖里\r\n// https://codesandbox.io/s/keen-wave-tlz9s?file=/src/App.js\r\n\r\n// 使用 JS 的同学，大部分的错误都是在 runtime(运行时) 的时候发现的\r\n// 我们希望，在静态代码中，就能找到其中的一些错误 -> 强类型\r\nexport const ProjectListScreen = () => {\r\n    useDocumentTitle(\"项目列表\", false);\r\n\r\n    const { open } = useProjectModal();\r\n\r\n    const [param, setParam] = useProjectsSearchParams();\r\n    const { isLoading, error, data: list } = useProjects(useDebounce(param, 200));\r\n    const { data: users } = useUsers();\r\n\r\n    return (\r\n        <Profiler id={\"项目列表\"}>\r\n            <ScreenContainer>\r\n                <Row marginBottom={2} between={true}>\r\n                    <h1>项目列表</h1>\r\n                    <ButtonNoPadding onClick={open} type={\"link\"}>\r\n                        创建项目\r\n                    </ButtonNoPadding>\r\n                </Row>\r\n                <SearchPanel users={users || []} param={param} setParam={setParam} />\r\n                <ErrorBox error={error} />\r\n                <List loading={isLoading} users={users || []} dataSource={list || []} />\r\n            </ScreenContainer>\r\n        </Profiler>\r\n    );\r\n};\r\n\r\nProjectListScreen.whyDidYouRender = false;\r\n\r\n","var _defs, _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgSoftwareLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 179 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: \"false\",\n    \"aria-hidden\": \"true\",\n    className: \"css-sq9aeg-Logo\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"97.6553341%\",\n    y1: \"35.6591143%\",\n    x2: \"37.202032%\",\n    y2: \"75.4891864%\",\n    id: \"uid392-1\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#0052CC\",\n    offset: \"7%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#2684FF\",\n    offset: \"100%\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"8.43371138%\",\n    y1: \"60.1495759%\",\n    x2: \"64.1161517%\",\n    y2: \"23.5790285%\",\n    id: \"uid392-2\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#0052CC\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#2684FF\",\n    offset: \"100%\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3881081,27.9242105 C12.4881804,26.8071817 13.1062496,25.2917664 13.1062496,23.7115789 C13.1062496,22.1313915 12.4881804,20.6159762 11.3881081,19.4989474 L11.3881081,19.4989474 L3.74837838,11.7621053 L0.273513514,15.2926316 C-0.0900771727,15.6625064 -0.0900771727,16.2617042 0.273513514,16.6315789 L11.3881081,27.9242105 L11.3881081,27.9242105 Z\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.5027027,15.2926316 L11.3881081,4 L11.3881081,4 L11.3539189,4.03473684 L11.3539189,4.03473684 C9.08852466,6.36456187 9.09963243,10.1156459 11.3787838,12.4315789 L19.0247297,20.1652632 L22.5027027,16.6315789 C22.8662934,16.2617042 22.8662934,15.6625064 22.5027027,15.2926316 Z\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3881081,12.4252632 C9.10895676,10.1093301 9.09784899,6.35824608 11.3632432,4.02842105 L3.43445946,12.0810526 L7.58067568,16.2936842 L11.3881081,12.4252632 Z\",\n    fill: \"url(#uid392-1)\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.1893243,15.6368421 L11.3881081,19.4989474 C12.4881804,20.6159762 13.1062496,22.1313915 13.1062496,23.7115789 C13.1062496,25.2917664 12.4881804,26.8071817 11.3881081,27.9242105 L19.3355405,19.8494737 L15.1893243,15.6368421 Z\",\n    fill: \"url(#uid392-2)\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36.07,18.956 C36.07,20.646 35.394,21.842 33.418,21.842 C32.56,21.842 31.702,21.686 31,21.4 L31,23.662 C31.65,23.896 32.586,24.104 33.808,24.104 C37.032,24.104 38.41,21.946 38.41,18.8 L38.41,6.918 L36.07,6.918 L36.07,18.956 Z M41.894,7.568 C41.894,8.556 42.544,9.128 43.454,9.128 C44.364,9.128 45.014,8.556 45.014,7.568 C45.014,6.58 44.364,6.008 43.454,6.008 C42.544,6.008 41.894,6.58 41.894,7.568 Z M42.31,24 L44.546,24 L44.546,11 L42.31,11 L42.31,24 Z M47.926,24 L50.11,24 L50.11,16.33 C50.11,13.574 51.852,12.716 54.712,13.002 L54.712,10.818 C52.164,10.662 50.864,11.754 50.11,13.288 L50.11,11 L47.926,11 L47.926,24 Z M65.45,24 L65.45,21.66 C64.618,23.376 63.058,24.26 61.056,24.26 C57.598,24.26 55.856,21.322 55.856,17.5 C55.856,13.834 57.676,10.74 61.316,10.74 C63.214,10.74 64.67,11.598 65.45,13.288 L65.45,11 L67.686,11 L67.686,24 L65.45,24 Z M58.092,17.5 C58.092,20.62 59.34,22.18 61.654,22.18 C63.656,22.18 65.45,20.906 65.45,18.02 L65.45,16.98 C65.45,14.094 63.812,12.82 61.914,12.82 C59.392,12.82 58.092,14.484 58.092,17.5 Z M86.926,19.294 C86.926,16.226 84.898,15.056 81.284,14.146 C78.268,13.392 77.176,12.69 77.176,11.286 C77.176,9.726 78.502,8.946 80.738,8.946 C82.506,8.946 84.352,9.258 86.068,10.246 L86.068,7.906 C84.898,7.256 83.312,6.658 80.842,6.658 C76.864,6.658 74.836,8.634 74.836,11.286 C74.836,14.094 76.552,15.42 80.4,16.356 C83.65,17.136 84.586,17.942 84.586,19.45 C84.586,20.958 83.624,21.972 81.05,21.972 C78.788,21.972 76.344,21.374 74.758,20.542 L74.758,22.934 C76.084,23.61 77.618,24.26 80.92,24.26 C85.158,24.26 86.926,22.258 86.926,19.294 Z M95.09,24.26 C91.19,24.26 88.902,21.374 88.902,17.474 C88.902,13.574 91.19,10.74 95.09,10.74 C98.964,10.74 101.226,13.574 101.226,17.474 C101.226,21.374 98.964,24.26 95.09,24.26 Z M95.09,12.82 C92.308,12.82 91.086,15.004 91.086,17.474 C91.086,19.944 92.308,22.18 95.09,22.18 C97.846,22.18 99.042,19.944 99.042,17.474 C99.042,15.004 97.846,12.82 95.09,12.82 Z M106.92,9.622 C106.92,8.452 107.596,7.646 108.974,7.646 C109.494,7.646 109.988,7.698 110.378,7.776 L110.378,5.722 C109.988,5.618 109.546,5.514 108.87,5.514 C106.088,5.514 104.736,7.152 104.736,9.57 L104.736,11 L102.63,11 L102.63,13.08 L104.736,13.08 L104.736,24 L106.92,24 L106.92,13.08 L110.274,13.08 L110.274,11 L106.92,11 L106.92,9.622 Z M115.786,19.892 L115.786,13.08 L119.244,13.08 L119.244,11 L115.786,11 L115.786,8.244 L113.602,8.244 L113.602,11 L111.496,11 L111.496,13.08 L113.602,13.08 L113.602,19.944 C113.602,22.362 114.954,24 117.736,24 C118.412,24 118.854,23.896 119.244,23.792 L119.244,21.634 C118.854,21.712 118.36,21.816 117.84,21.816 C116.462,21.816 115.786,21.036 115.786,19.892 Z M125.432,24 L128.292,24 L130.528,17.708 L131.724,13.704 L132.92,17.708 L135.156,24 L138.016,24 L142.8,11 L140.33,11 L136.586,22.024 L132.79,11 L130.658,11 L126.862,22.024 L123.118,11 L120.648,11 L125.432,24 Z M153.538,24 L153.538,21.66 C152.706,23.376 151.146,24.26 149.144,24.26 C145.686,24.26 143.944,21.322 143.944,17.5 C143.944,13.834 145.764,10.74 149.404,10.74 C151.302,10.74 152.758,11.598 153.538,13.288 L153.538,11 L155.774,11 L155.774,24 L153.538,24 Z M146.18,17.5 C146.18,20.62 147.428,22.18 149.742,22.18 C151.744,22.18 153.538,20.906 153.538,18.02 L153.538,16.98 C153.538,14.094 151.9,12.82 150.002,12.82 C147.48,12.82 146.18,14.484 146.18,17.5 Z M159.154,24 L161.338,24 L161.338,16.33 C161.338,13.574 163.08,12.716 165.94,13.002 L165.94,10.818 C163.392,10.662 162.092,11.754 161.338,13.288 L161.338,11 L159.154,11 L159.154,24 Z M178.108,23.48 C177.042,24.052 175.404,24.26 174.078,24.26 C169.216,24.26 167.084,21.452 167.084,17.474 C167.084,13.548 169.268,10.74 173.22,10.74 C177.224,10.74 178.836,13.522 178.836,17.474 L178.836,18.488 L169.346,18.488 C169.658,20.698 171.088,22.128 174.156,22.128 C175.664,22.128 176.938,21.842 178.108,21.426 L178.108,23.48 Z M173.116,12.768 C170.75,12.768 169.554,14.302 169.32,16.564 L176.574,16.564 C176.444,14.146 175.352,12.768 173.116,12.768 Z\",\n    fill: \"inherit\",\n    fillRule: \"evenodd\"\n  }))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoftwareLogo);\nexport default __webpack_public_path__ + \"static/media/software-logo.ec20429850ea9088299d73d53647f340.svg\";\nexport { ForwardRef as ReactComponent };","import { useHttp } from \"./http\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { Task } from \"../types/task\";\nimport {\n  useAddConfig,\n  useDeleteConfig,\n  useEditConfig,\n  useReorderTaskConfig,\n} from \"./use-optimistic-options\";\nimport { Project } from \"../types/project\";\nimport { SortProps } from \"./kanban\";\nimport { useDebounce } from \"./index\";\n\nexport const useTasks = (param?: Partial<Task>) => {\n  const client = useHttp();\n  const debouncedParam = { ...param, name: useDebounce(param?.name, 200) };\n\n  return useQuery<Task[]>([\"tasks\", debouncedParam], () =>\n    client(\"tasks\", { data: debouncedParam })\n  );\n};\n\nexport const useAddTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    (params: Partial<Task>) =>\n      client(`tasks`, {\n        data: params,\n        method: \"POST\",\n      }),\n    useAddConfig(queryKey)\n  );\n};\n\nexport const useTask = (id?: number) => {\n  const client = useHttp();\n  return useQuery<Project>([\"task\", { id }], () => client(`tasks/${id}`), {\n    enabled: Boolean(id),\n  });\n};\n\nexport const useEditTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Task>) =>\n      client(`tasks/${params.id}`, {\n        method: \"PATCH\",\n        data: params,\n      }),\n    useEditConfig(queryKey)\n  );\n};\n\nexport const useDeleteTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    ({ id }: { id: number }) =>\n      client(`tasks/${id}`, {\n        method: \"DELETE\",\n      }),\n    useDeleteConfig(queryKey)\n  );\n};\n\nexport const useReorderTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation((params: SortProps) => {\n    return client(\"tasks/reorder\", {\n      data: params,\n      method: \"POST\",\n    });\n  }, useReorderTaskConfig(queryKey));\n};\n","import { useLocation } from \"react-router\";\nimport { useProject } from \"../../utils/project\";\nimport { useUrlQueryParam } from \"../../utils/url\";\nimport { useCallback, useMemo } from \"react\";\nimport { useTask } from \"../../utils/task\";\n\nexport const useProjectIdInUrl = () => {\n  const { pathname } = useLocation();\n  const id = pathname.match(/projects\\/(\\d+)/)?.[1];\n  return Number(id);\n};\n\nexport const useProjectInUrl = () => useProject(useProjectIdInUrl());\n\nexport const useKanbanSearchParams = () => ({ projectId: useProjectIdInUrl() });\n\nexport const useKanbansQueryKey = () => [\"kanbans\", useKanbanSearchParams()];\n\nexport const useTasksSearchParams = () => {\n  const [param] = useUrlQueryParam([\"name\", \"typeId\", \"processorId\", \"tagId\"]);\n  const projectId = useProjectIdInUrl();\n  return useMemo(\n    () => ({\n      projectId,\n      typeId: Number(param.typeId) || undefined,\n      processorId: Number(param.processorId) || undefined,\n      tagId: Number(param.tagId) || undefined,\n      name: param.name,\n    }),\n    [projectId, param]\n  );\n};\n\nexport const useTasksQueryKey = () => [\"tasks\", useTasksSearchParams()];\n\nexport const useTasksModal = () => {\n  const [{ editingTaskId }, setEditingTaskId] = useUrlQueryParam([\n    \"editingTaskId\",\n  ]);\n  const { data: editingTask, isLoading } = useTask(Number(editingTaskId));\n  const startEdit = useCallback(\n    (id: number) => {\n      setEditingTaskId({ editingTaskId: id });\n    },\n    [setEditingTaskId]\n  );\n  const close = useCallback(() => {\n    setEditingTaskId({ editingTaskId: \"\" });\n  }, [setEditingTaskId]);\n  return {\n    editingTaskId,\n    editingTask,\n    startEdit,\n    close,\n    isLoading,\n  };\n};\n","import { useHttp } from \"./http\";\nimport { useQuery } from \"react-query\";\nimport { TaskType } from \"../types/task-type\";\n\nexport const useTaskTypes = () => {\n  const client = useHttp();\n\n  return useQuery<TaskType[]>([\"taskTypes\"], () => client(\"taskTypes\"));\n};\n","var _desc, _defs, _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgTask(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"task\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"task\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Task\",\n    transform: \"translate(1.000000, 1.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle-36\",\n    fill: \"#4BADE8\",\n    x: 0,\n    y: 0,\n    width: 14,\n    height: 14,\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    transform: \"translate(4.000000, 4.500000)\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,5 L6,0\",\n    id: \"Stroke-1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,5 L0,3\",\n    id: \"Stroke-3\"\n  })))))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTask);\nexport default __webpack_public_path__ + \"static/media/task.8f6928c35dfd3f16bc59379ed373746b.svg\";\nexport { ForwardRef as ReactComponent };","var _desc, _defs, _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgBug(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"bug\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"bug\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Bug\",\n    transform: \"translate(1.000000, 1.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle-36\",\n    fill: \"#E5493A\",\n    x: 0,\n    y: 0,\n    width: 14,\n    height: 14,\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10,7 C10,8.657 8.657,10 7,10 C5.343,10 4,8.657 4,7 C4,5.343 5.343,4 7,4 C8.657,4 10,5.343 10,7\",\n    id: \"Fill-2\",\n    fill: \"#FFFFFF\"\n  }))))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBug);\nexport default __webpack_public_path__ + \"static/media/bug.fa8e2ddfdddf6452b4dbf23800885bd2.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from \"react\";\nimport { useAddTask } from \"../../utils/task\";\nimport { useProjectIdInUrl, useTasksQueryKey } from \"./util\";\nimport { Card, Input } from \"antd\";\n\nexport const CreateTask = ({ kanbanId }: { kanbanId: number }) => {\n  const [name, setName] = useState(\"\");\n  const { mutateAsync: addTask } = useAddTask(useTasksQueryKey());\n  const projectId = useProjectIdInUrl();\n  const [inputMode, setInputMode] = useState(false);\n\n  const submit = async () => {\n    await addTask({ projectId, name, kanbanId });\n    setInputMode(false);\n    setName(\"\");\n  };\n\n  const toggle = () => setInputMode((mode) => !mode);\n\n  useEffect(() => {\n    if (!inputMode) {\n      setName(\"\");\n    }\n  }, [inputMode]);\n\n  if (!inputMode) {\n    return <div onClick={toggle}>+创建事务</div>;\n  }\n\n  return (\n    <Card>\n      <Input\n        onBlur={toggle}\n        placeholder={\"需要做些什么\"}\n        autoFocus={true}\n        onPressEnter={submit}\n        value={name}\n        onChange={(evt) => setName(evt.target.value)}\n      />\n    </Card>\n  );\n};\n","import React from \"react\";\n\nexport const Mark = ({ name, keyword }: { name: string; keyword: string }) => {\n  if (!keyword) {\n    return <>{name}</>;\n  }\n  const arr = name.split(keyword);\n  return (\n    <>\n      {arr.map((str, index) => (\n        <span key={index}>\n          {str}\n          {index === arr.length - 1 ? null : (\n            <span style={{ color: \"#257AFD\" }}>{keyword}</span>\n          )}\n        </span>\n      ))}\n    </>\n  );\n};\n","import {useHttp}  from \"./http\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { Kanban } from \"../types/kanban\";\nimport {\n  useAddConfig,\n  useDeleteConfig,\n  useReorderKanbanConfig,\n} from \"./use-optimistic-options\";\n\nexport const useKanbans = (param?: Partial<Kanban>) => {\n  const client = useHttp();\n\n  return useQuery<Kanban[]>([\"kanbans\", param], () =>\n    client(\"kanbans\", { data: param })//第一个数据为url后缀，第二个为向服务器post的内容\n  );\n};\n\nexport const useAddKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    (params: Partial<Kanban>) =>\n      client(`kanbans`, {\n        data: params,\n        method: \"POST\",\n      }),\n    useAddConfig(queryKey)\n  );\n};\n\nexport const useDeleteKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    ({ id }: { id: number }) =>\n      client(`kanbans/${id}`, {\n        method: \"DELETE\",\n      }),\n    useDeleteConfig(queryKey)\n  );\n};\n\nexport interface SortProps {\n  // 要重新排序的 item\n  fromId: number;\n  // 目标 item\n  referenceId: number;\n  // 放在目标item的前还是后\n  type: \"before\" | \"after\";\n  fromKanbanId?: number;\n  toKanbanId?: number;\n}\n\n//拖拽持久化\nexport const useReorderKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation((params: SortProps) => {\n    return client(\"kanbans/reorder\", {\n      data: params,\n      method: \"POST\",\n    });\n  }, useReorderKanbanConfig(queryKey));\n};\n","import React, { ReactNode } from \"react\";\nimport {\n  Draggable,\n  DraggableProps,\n  Droppable,\n  DroppableProps,\n  DroppableProvided,\n  DroppableProvidedProps,\n} from \"react-beautiful-dnd\";\n\ntype DropProps = Omit<DroppableProps, \"children\"> & { children: ReactNode };\n\nexport const Drop = ({ children, ...props }: DropProps) => {\n  return (\n    <Droppable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children as React.ReactElement, {\n            ...provided.droppableProps,\n            ref: provided.innerRef ,\n            provided,\n          });\n        }\n        return <div />;\n      }}\n    </Droppable>\n  );\n};\n\ntype DropChildProps = Partial<\n  { provided: DroppableProvided } & DroppableProvidedProps\n> &\n  React.HTMLAttributes<HTMLDivElement>;\nexport const DropChild = React.forwardRef<HTMLDivElement, DropChildProps>(\n  ({ children, ...props }, ref) => (\n    <div ref={ref} {...props}>\n      {children}\n      {props.provided?.placeholder}\n    </div>\n  )\n);\n\ntype DragProps = Omit<DraggableProps, \"children\"> & { children: ReactNode };\nexport const Drag = ({ children, ...props }: DragProps) => {\n  return (\n    <Draggable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children as React.ReactElement, {\n            ...provided.draggableProps,\n            ...provided.dragHandleProps,\n            ref: provided.innerRef,\n          });\n        }\n        return <div />;\n      }}\n    </Draggable>\n  );\n};\n","import React from \"react\";\nimport { Kanban } from \"../../types/kanban\";\nimport { useTaskTypes } from \"../../utils/task-type\";\nimport taskIcon from \"../../assets/task.svg\";\nimport bugIcon from \"../../assets/bug.svg\";\nimport styled from \"@emotion/styled\";\nimport { Button, Card, Dropdown, Menu, Modal } from \"antd\";\nimport { useTasks } from \"../../utils/task\";\nimport {\n  useKanbansQueryKey,\n  useTasksModal,\n  useTasksSearchParams,\n} from \"./util\";\nimport { CreateTask } from \"./create-task\";\nimport { Task } from \"../../types/task\";\nimport { Mark } from \"../../components/mark\";\nimport { useDeleteKanban } from \"../../utils/kanban\";\nimport { Row } from \"../../components/lib\";\nimport { Drag, Drop, DropChild } from \"../../components/drag-and-drop\";\n\nconst TaskTypeIcon = ({ id }: { id: number }) => {\n  const { data: taskTypes } = useTaskTypes();\n  const name = taskTypes?.find((taskType) => taskType.id === id)?.name;\n  if (!name) {\n    return null;\n  }\n  return <img alt={\"task-icon\"} src={name === \"task\" ? taskIcon : bugIcon} />;\n};\n\nconst TaskCard = ({ task }: { task: Task }) => {\n  const { startEdit } = useTasksModal();\n  const { name: keyword } = useTasksSearchParams();\n  return (\n    <Card\n      onClick={() => startEdit(task.id)}\n      style={{ marginBottom: \"0.5rem\", cursor: \"pointer\" }}\n      key={task.id}\n    >\n      <p>\n        <Mark keyword={keyword} name={task.name} />\n      </p>\n      <TaskTypeIcon id={task.typeId} />\n    </Card>\n  );\n};\n\nexport const KanbanColumn = React.forwardRef<\n  HTMLDivElement,\n  { kanban: Kanban }\n>(({ kanban, ...props }, ref) => {\n  const { data: allTasks } = useTasks(useTasksSearchParams());\n  const tasks = allTasks?.filter((task) => task.kanbanId === kanban.id);\n  return (\n    <Container {...props} ref={ref}>\n      <Row between={true}>\n        <h3>{kanban.name}</h3>\n        <More kanban={kanban} key={kanban.id} />\n      </Row>\n      <TasksContainer>\n        <Drop\n          type={\"ROW\"}\n          direction={\"vertical\"}\n          droppableId={String(kanban.id)}\n        >\n          <DropChild style={{ minHeight: \"1rem\" }}>\n            {tasks?.map((task, taskIndex) => (\n              <Drag\n                key={task.id}\n                index={taskIndex}\n                draggableId={\"task\" + task.id}\n              >\n                <div>\n                  <TaskCard key={task.id} task={task} />\n                </div>\n              </Drag>\n            ))}\n          </DropChild>\n        </Drop>\n        <CreateTask kanbanId={kanban.id} />\n      </TasksContainer>\n    </Container>\n  );\n});\n\nconst More = ({ kanban }: { kanban: Kanban }) => {\n  const { mutateAsync } = useDeleteKanban(useKanbansQueryKey());\n  const startDelete = () => {\n    Modal.confirm({\n      okText: \"确定\",\n      cancelText: \"取消\",\n      title: \"确定删除看板吗\",\n      onOk() {\n        return mutateAsync({ id: kanban.id });\n      },\n    });\n  };\n  const overlay = (\n    <Menu>\n      <Menu.Item>\n        <Button type={\"link\"} onClick={startDelete}>\n          删除\n        </Button>\n      </Menu.Item>\n    </Menu>\n  );\n  return (\n    <Dropdown overlay={overlay}>\n      <Button type={\"link\"}>...</Button>\n    </Dropdown>\n  );\n};\n\nexport const Container = styled.div`\n  min-width: 27rem;\n  border-radius: 6px;\n  background-color: rgb(244, 245, 247);\n  display: flex;\n  flex-direction: column;\n  padding: 0.7rem 0.7rem 1rem;\n  margin-right: 1.5rem;\n`;\n\nconst TasksContainer = styled.div`\n  overflow: scroll;\n  flex: 1;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`;\n","import React from \"react\";\nimport { IdSelect } from \"./id-select\";\nimport { useTaskTypes } from \"../utils/task-type\";\n\nexport const TaskTypeSelect = (\n  props: React.ComponentProps<typeof IdSelect>\n) => {\n  const { data: taskTypes } = useTaskTypes();\n  return <IdSelect options={taskTypes || []} {...props} />;\n};\n","import React from \"react\";\nimport { useTasksSearchParams } from \"./util\";\nimport { useSetUrlSearchParam } from \"../../utils/url\";\nimport { Row } from \"../../components/lib\";\nimport { Button, Input } from \"antd\";\nimport { UserSelect } from \"../../components/user-select\";\nimport { TaskTypeSelect } from \"../../components/task-type-select\";\n\nexport const SearchPanel = () => {\n  const searchParams = useTasksSearchParams();\n  const setSearchParams = useSetUrlSearchParam();\n  const reset = () => {\n    setSearchParams({\n      typeId: undefined,\n      processorId: undefined,\n      tagId: undefined,\n      name: undefined,\n    });\n  };\n\n  return (\n    <Row marginBottom={4} gap={true}>\n      <Input\n        style={{ width: \"20rem\" }}\n        placeholder={\"任务名\"}\n        value={searchParams.name}\n        onChange={(evt) => setSearchParams({ name: evt.target.value })}\n      />\n      <UserSelect\n        defaultOptionName={\"经办人\"}\n        value={searchParams.processorId}\n        onChange={(value) => setSearchParams({ processorId: value })}\n      />\n      <TaskTypeSelect\n        defaultOptionName={\"类型\"}\n        value={searchParams.typeId}\n        onChange={(value) => setSearchParams({ typeId: value })}\n      />\n      <Button onClick={reset}>清除筛选器</Button>\n    </Row>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useKanbansQueryKey, useProjectIdInUrl } from \"./util\";\nimport { useAddKanban } from \"../../utils/kanban\";\nimport { Input } from \"antd\";\nimport { Container } from \"./kanban-column\";\n\nexport const CreateKanban = () => {\n  const [name, setName] = useState(\"\");\n  const projectId = useProjectIdInUrl();\n  const { mutateAsync: addKanban } = useAddKanban(useKanbansQueryKey());\n\n  const submit = async () => {\n    await addKanban({ name, projectId });\n    setName(\"\");\n  };\n\n  return (\n    <Container>\n      <Input\n        size={\"large\"}\n        placeholder={\"新建看板名称\"}\n        onPressEnter={submit}\n        value={name}\n        onChange={(evt) => setName(evt.target.value)}\n      />\n    </Container>\n  );\n};\n","import { useHttp } from \"./http\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { useAddConfig, useDeleteConfig } from \"./use-optimistic-options\";\nimport { Epic } from \"../types/epic\";\n\nexport const useEpics = (param?: Partial<Epic>) => {\n  const client = useHttp();\n\n  return useQuery<Epic[]>([\"epics\", param], () =>\n    client(\"epics\", { data: param })\n  );\n};\n\nexport const useAddEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    (params: Partial<Epic>) =>\n      client(`epics`, {\n        data: params,\n        method: \"POST\",\n      }),\n    useAddConfig(queryKey)\n  );\n};\n\nexport const useDeleteEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    ({ id }: { id: number }) =>\n      client(`epics/${id}`, {\n        method: \"DELETE\",\n      }),\n    useDeleteConfig(queryKey)\n  );\n};\n","import React from \"react\";\nimport { IdSelect } from \"./id-select\";\nimport { useEpics } from \"../utils/epic\";\n\nexport const EpicSelect = (props: React.ComponentProps<typeof IdSelect>) => {\n  const { data: epics } = useEpics();\n  return <IdSelect options={epics || []} {...props} />;\n};\n","import React, { useEffect } from \"react\";\nimport { useTasksModal, useTasksQueryKey } from \"./util\";\nimport {useForm} from \"antd/es/form/Form\"\nimport { useDeleteTask, useEditTask } from \"../../utils/task\";\nimport { Button, Form, Input, Modal } from \"antd\";\nimport { UserSelect } from \"../../components/user-select\";\nimport { TaskTypeSelect } from \"../../components/task-type-select\";\nimport { EpicSelect } from \"../../components/epic-select\";\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 16 },\n};\n\nexport const TaskModal = () => {\n  const [form] = useForm();\n  const { editingTaskId, editingTask, close } = useTasksModal();\n  const { mutateAsync: editTask, isLoading: editLoading } = useEditTask(\n    useTasksQueryKey()\n  );\n  const { mutate: deleteTask } = useDeleteTask(useTasksQueryKey());\n\n  const onCancel = () => {\n    close();\n    form.resetFields();\n  };\n\n  const onOk = async () => {\n    await editTask({ ...editingTask, ...form.getFieldsValue() });\n    close();\n  };\n\n  const startDelete = () => {\n    close();\n    Modal.confirm({\n      okText: \"确定\",\n      cancelText: \"取消\",\n      title: \"确定删除任务吗\",\n      onOk() {\n        return deleteTask({ id: Number(editingTaskId) });\n      },\n    });\n  };\n\n  useEffect(() => {\n    form.setFieldsValue(editingTask);\n  }, [form, editingTask]);\n\n  return (\n    <Modal\n      forceRender={true}\n      onCancel={onCancel}\n      onOk={onOk}\n      okText={\"确认\"}\n      cancelText={\"取消\"}\n      confirmLoading={editLoading}\n      title={\"编辑任务\"}\n      visible={!!editingTaskId}\n    >\n      <Form {...layout} initialValues={editingTask} form={form}>\n        <Form.Item\n          label={\"任务名\"}\n          name={\"name\"}\n          rules={[{ required: true, message: \"请输入任务名\" }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item label={\"任务组\"} name={\"epicId\"}>\n          <EpicSelect defaultOptionName={\"任务组\"} />\n        </Form.Item>\n        <Form.Item label={\"经办人\"} name={\"processorId\"}>\n          <UserSelect defaultOptionName={\"经办人\"} />\n        </Form.Item>\n        <Form.Item label={\"类型\"} name={\"typeId\"}>\n          <TaskTypeSelect />\n        </Form.Item>\n      </Form>\n      <div style={{ textAlign: \"right\" }}>\n        <Button\n          onClick={startDelete}\n          style={{ fontSize: \"14px\" }}\n          size={\"small\"}\n        >\n          删除\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import React, { useCallback } from \"react\";\nimport { useDocumentTitle } from \"../../utils\";\nimport {\n  useKanbanSearchParams,\n  useKanbansQueryKey,\n  useProjectInUrl,\n  useTasksQueryKey,\n  useTasksSearchParams,\n} from \"./util\";\nimport { KanbanColumn } from \"./kanban-column\";\nimport styled from \"@emotion/styled\";\nimport { useKanbans, useReorderKanban } from \"../../utils/kanban\";\nimport { SearchPanel } from \"./search-panel\";\nimport { ScreenContainer } from \"../../components/lib\";\nimport { useReorderTask, useTasks } from \"../../utils/task\";\nimport { Spin } from \"antd\";\nimport { CreateKanban } from \"./create-kanban\";\nimport { TaskModal } from \"./task-modal\";\nimport { DragDropContext, DropResult } from \"react-beautiful-dnd\";\nimport { Drag, Drop, DropChild } from \"../../components/drag-and-drop\";\nimport { Profiler } from \"../../components/profiler\";\n\nexport const KanbanScreen = () => {\n  useDocumentTitle(\"看板列表\");\n\n  const { data: currentProject } = useProjectInUrl();\n  const { data: kanbans, isLoading: kanbanIsLoading } = useKanbans(\n    useKanbanSearchParams()\n  );\n  const { isLoading: taskIsLoading } = useTasks(useTasksSearchParams());\n  const isLoading = taskIsLoading || kanbanIsLoading;\n\n  const onDragEnd = useDragEnd();\n  return (\n    <Profiler id={\"看板页面\"}>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <ScreenContainer>\n          <h1>{currentProject?.name}看板</h1>\n          <SearchPanel />\n          {isLoading ? (\n            <Spin size={\"large\"} />\n          ) : (\n            <ColumnsContainer>\n              <Drop\n                type={\"COLUMN\"}\n                direction={\"horizontal\"}\n                droppableId={\"kanban\"}\n              >\n                <DropChild style={{ display: \"flex\" }}>\n                  {kanbans?.map((kanban, index) => (\n                    <Drag\n                      key={kanban.id}\n                      draggableId={\"kanban\" + kanban.id}\n                      index={index}\n                    >\n                      <KanbanColumn kanban={kanban} key={kanban.id} />\n                    </Drag>\n                  ))}\n                </DropChild>\n              </Drop>\n              <CreateKanban />\n            </ColumnsContainer>\n          )}\n          <TaskModal />\n        </ScreenContainer>\n      </DragDropContext>\n    </Profiler>\n  );\n};\n\nexport const useDragEnd = () => {\n  const { data: kanbans } = useKanbans(useKanbanSearchParams());\n  const { mutate: reorderKanban } = useReorderKanban(useKanbansQueryKey());\n  const { mutate: reorderTask } = useReorderTask(useTasksQueryKey());\n  const { data: allTasks = [] } = useTasks(useTasksSearchParams());\n  return useCallback(\n    ({ source, destination, type }: DropResult) => {\n      if (!destination) {\n        return;\n      }\n      // 看板排序\n      if (type === \"COLUMN\") {\n        const fromId = kanbans?.[source.index].id;\n        const toId = kanbans?.[destination.index].id;\n        if (!fromId || !toId || fromId === toId) {\n          return;\n        }\n        const type = destination.index > source.index ? \"after\" : \"before\";\n        reorderKanban({ fromId, referenceId: toId, type });\n      }\n      if (type === \"ROW\") {\n        const fromKanbanId = +source.droppableId;\n        const toKanbanId = +destination.droppableId;\n        const fromTask = allTasks.filter(\n          (task) => task.kanbanId === fromKanbanId\n        )[source.index];\n        const toTask = allTasks.filter((task) => task.kanbanId === toKanbanId)[\n          destination.index\n        ];\n        if (fromTask?.id === toTask?.id) {\n          return;\n        }\n        reorderTask({\n          fromId: fromTask?.id,\n          referenceId: toTask?.id,\n          fromKanbanId,\n          toKanbanId,\n          type:\n            fromKanbanId === toKanbanId && destination.index > source.index\n              ? \"after\"\n              : \"before\",\n        });\n      }\n    },\n    [kanbans, reorderKanban, allTasks, reorderTask]\n  );\n};\n\nexport const ColumnsContainer = styled(\"div\")`\n  display: flex;\n  overflow-x: scroll;\n  flex: 1;\n`;\n","import { useProjectIdInUrl } from \"../kanban/util\";\n\nexport const useEpicSearchParams = () => ({ projectId: useProjectIdInUrl() });\n\nexport const useEpicsQueryKey = () => [\"epics\", useEpicSearchParams()];\n","import React, { useEffect } from \"react\";\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\nimport { DrawerProps } from \"antd/es/drawer\";\nimport styled from \"@emotion/styled\";\nimport { ErrorBox } from \"../../components/lib\";\nimport { useAddEpic } from \"../../utils/epic\";\nimport { useEpicsQueryKey } from \"./util\";\nimport { useProjectIdInUrl } from \"../kanban/util\";\n\nexport const CreateEpic = (\n  props: Pick<DrawerProps, \"visible\"> & { onClose: () => void }\n) => {\n  const { mutate: addEpic, isLoading, error } = useAddEpic(useEpicsQueryKey());\n  const [form] = Form.useForm();\n  const projectId = useProjectIdInUrl();\n\n  const onFinish = async (values: any) => {\n    await addEpic({ ...values, projectId });\n    props.onClose();\n  };\n\n  useEffect(() => {\n    form.resetFields();\n  }, [form, props.visible]);\n\n  return (\n    <Drawer\n      visible={props.visible}\n      onClose={props.onClose}\n      forceRender={true}\n      destroyOnClose={true}\n      width={\"100%\"}\n    >\n      <Container>\n        {isLoading ? (\n          <Spin size={\"large\"} />\n        ) : (\n          <>\n            <h1>创建任务组</h1>\n            <ErrorBox error={error} />\n            <Form\n              form={form}\n              layout={\"vertical\"}\n              style={{ width: \"40rem\" }}\n              onFinish={onFinish}\n            >\n              <Form.Item\n                label={\"名称\"}\n                name={\"name\"}\n                rules={[{ required: true, message: \"请输入任务组名\" }]}\n              >\n                <Input placeholder={\"请输入任务组名称\"} />\n              </Form.Item>\n\n              <Form.Item style={{ textAlign: \"right\" }}>\n                <Button\n                  loading={isLoading}\n                  type={\"primary\"}\n                  htmlType={\"submit\"}\n                >\n                  提交\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </Container>\n    </Drawer>\n  );\n};\n\nconst Container = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import React, { useState } from \"react\";\nimport { Row, ScreenContainer } from \"../../components/lib\";\nimport { useProjectInUrl } from \"../kanban/util\";\nimport { useDeleteEpic, useEpics } from \"../../utils/epic\";\nimport { Button, List, Modal } from \"antd\";\nimport dayjs from \"dayjs\";\nimport { useTasks } from \"../../utils/task\";\nimport { Link } from \"react-router-dom\";\nimport { useEpicSearchParams, useEpicsQueryKey } from \"./util\";\nimport { Epic } from \"../../types/epic\";\nimport { CreateEpic } from \"./create-epic\";\n\nexport const EpicScreen = () => {\n  const { data: currentProject } = useProjectInUrl();\n  const { data: epics } = useEpics(useEpicSearchParams());\n  const { data: tasks } = useTasks({ projectId: currentProject?.id });\n  const { mutate: deleteEpic } = useDeleteEpic(useEpicsQueryKey());\n  const [epicCreateOpen, setEpicCreateOpen] = useState(false);\n\n  const confirmDeleteEpic = (epic: Epic) => {\n    Modal.confirm({\n      title: `确定删除项目组：${epic.name}`,\n      content: \"点击确定删除\",\n      okText: \"确定\",\n      onOk() {\n        deleteEpic({ id: epic.id });\n      },\n    });\n  };\n\n  return (\n    <ScreenContainer>\n      <Row between={true}>\n        <h1>{currentProject?.name}任务组</h1>\n        <Button onClick={() => setEpicCreateOpen(true)} type={\"link\"}>\n          创建任务组\n        </Button>\n      </Row>\n      <List\n        style={{ overflow: \"scroll\" }}\n        dataSource={epics}\n        itemLayout={\"vertical\"}\n        renderItem={(epic) => (\n          <List.Item>\n            <List.Item.Meta\n              title={\n                <Row between={true}>\n                  <span>{epic.name}</span>\n                  <Button onClick={() => confirmDeleteEpic(epic)} type={\"link\"}>\n                    删除\n                  </Button>\n                </Row>\n              }\n              description={\n                <div>\n                  <div>开始时间：{dayjs(epic.start).format(\"YYYY-MM-DD\")}</div>\n                  <div>结束时间：{dayjs(epic.end).format(\"YYYY-MM-DD\")}</div>\n                </div>\n              }\n            />\n            <div>\n              {tasks\n                ?.filter((task) => task.epicId === epic.id)\n                .map((task) => (<div>\n                  <Link\n                    to={`/projects/${currentProject?.id}/kanban?editingTaskId=${task.id}`}\n                    key={task.id}\n                  >\n                    {task.name}\n                  </Link></div>\n                ))}\n            </div>\n          </List.Item>\n        )}\n      />\n      <CreateEpic\n        onClose={() => setEpicCreateOpen(false)}\n        visible={epicCreateOpen}\n      />\n    </ScreenContainer>\n  );\n};\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Route, Routes, useLocation } from \"react-router\";\r\nimport { KanbanScreen } from \"../kanban\";\r\nimport { EpicScreen } from \"../epic\";\r\nimport styled from \"@emotion/styled\";\r\nimport { Menu } from \"antd\";\r\n\r\nconst useRouteType = () => {\r\n    const units = useLocation().pathname.split(\"/\");\r\n    return units[units.length - 1];\r\n};\r\n\r\nexport const ProjectScreen = () => {\r\n    const routeType = useRouteType();\r\n    return (\r\n        <Container>\r\n            <Aside>\r\n                <Menu mode={\"inline\"} selectedKeys={[routeType]}>\r\n                    <Menu.Item key={\"kanban\"}>\r\n                        <Link to={\"kanban\"}>看板</Link>\r\n                    </Menu.Item>\r\n                    <Menu.Item key={\"epic\"}>\r\n                        <Link to={\"epic\"}>任务组</Link>\r\n                    </Menu.Item>\r\n                </Menu>\r\n            </Aside>\r\n            <Main>\r\n                <Routes>\r\n                    {/*projects/:projectId/kanban*/}\r\n                    <Route path={\"kanban\"} element={<KanbanScreen />} />\r\n                    {/*projects/:projectId/epic*/}\r\n                    <Route path={\"epic\"} element={<EpicScreen />} />\r\n                    <Route index element={<KanbanScreen />} />\r\n                </Routes>\r\n            </Main>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Aside = styled.aside`\r\n  background-color: rgb(244, 245, 247);\r\n  display: flex;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  box-shadow: -5px 0 5px -5px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 16rem 1fr;\r\n  width: 100%;\r\n`;\r\n","import React from \"react\";\nimport { Divider, List, Popover, Typography } from \"antd\";\nimport { useProjects } from \"../utils/project\";\nimport styled from \"@emotion/styled\";\nimport { ButtonNoPadding } from \"./lib\";\nimport { useProjectModal } from \"../screens/project-list/util\";\n\nexport const ProjectPopover = () => {\n  const { open } = useProjectModal();\n  const { data: projects, isLoading } = useProjects();\n  const pinnedProjects = projects?.filter((project) => project.pin);\n\n  const content = (\n    <ContentContainer>\n      <Typography.Text type={\"secondary\"}>收藏项目</Typography.Text>\n      <List>\n        {pinnedProjects?.map((project) => (\n          <List.Item key={project.id}>\n            <List.Item.Meta title={project.name} />\n          </List.Item>\n        ))}\n      </List>\n      <Divider />{/*antd自带分割线*/}\n        <ButtonNoPadding onClick={open} type={\"link\"}>\n            创建项目\n        </ButtonNoPadding>\n    </ContentContainer>\n  );\n\n  return (\n    <Popover\n      onVisibleChange={() => isLoading}\n      placement={\"bottom\"}\n      content={content}\n    >\n      <span>项目</span>\n    </Popover>\n  );\n};\n\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n`;\n","import React, { useEffect } from \"react\";\r\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\r\nimport {\r\n    useProjectModal,\r\n    useProjectsQueryKey,\r\n} from \"./util\";\r\nimport { UserSelect } from \"../../components/user-select\";\r\nimport { useAddProject, useEditProject } from \"../../utils/project\";\r\nimport { ErrorBox } from \"../../components/lib\";\r\nimport styled from \"@emotion/styled\";\r\n\r\n//单页面生成，点击创建编辑项目，会通过<Drawer>打开一个侧拉菜单，但width设置为100%，故占整个页面显示\r\nexport const ProjectModal = () => {\r\n    const { projectModalOpen, close, editingProject, isLoading } =\r\n        useProjectModal();\r\n    const useMutateProject = editingProject ? useEditProject : useAddProject;\r\n\r\n    const {\r\n        mutateAsync,//用异步是因为希望表单编辑或创建完成之后，再去关闭窗口或者重置表单\r\n        error,\r\n        isLoading: mutateLoading,\r\n    } = useMutateProject(useProjectsQueryKey());\r\n    const [form] = Form.useForm();//由于用了这个1，所以可以控制下面的form2\r\n    const onFinish = (values: any) => {\r\n        mutateAsync({ ...editingProject, ...values }).then(() => {\r\n            form.resetFields();//清空输入框\r\n            close();\r\n        });\r\n    };\r\n    const closeModal = () => {\r\n        form.resetFields();\r\n        close();\r\n    };\r\n\r\n    const title = editingProject ? \"编辑项目\" : \"创建项目\";\r\n\r\n    useEffect(() => {\r\n        form.setFieldsValue(editingProject);\r\n    }, [editingProject, form]);\r\n\r\n    return (\r\n        <Drawer\r\n            forceRender={true}//强制渲染，不管显式还是隐藏，都要把它刷新\r\n            onClose={closeModal}\r\n            visible={projectModalOpen}\r\n            width={\"100%\"}\r\n        >\r\n            <Container>\r\n                {isLoading ? (\r\n                    <Spin size={\"large\"} />\r\n                ) : (\r\n                    <>\r\n                        <h1>{title}</h1>\r\n                        <ErrorBox error={error} />\r\n                        <Form\r\n                            form={form}//2\r\n                            layout={\"vertical\"}\r\n                            style={{ width: \"40rem\" }}\r\n                            onFinish={onFinish}\r\n                        >\r\n                            <Form.Item\r\n                                label={\"名称\"}\r\n                                name={\"name\"}\r\n                                rules={[{ required: true, message: \"请输入项目名\" }]}\r\n                            >\r\n                                <Input placeholder={\"请输入项目名称\"} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label={\"部门\"}\r\n                                name={\"organization\"}\r\n                                rules={[{ required: true, message: \"请输入部门名\" }]}\r\n                            >\r\n                                <Input placeholder={\"请输入部门名\"} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item label={\"负责人\"} name={\"personId\"}>\r\n                                <UserSelect defaultOptionName={\"负责人\"} />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item style={{ textAlign: \"right\" }}>\r\n                                <Button\r\n                                    loading={mutateLoading}\r\n                                    type={\"primary\"}\r\n                                    htmlType={\"submit\"}\r\n                                >\r\n                                    提交\r\n                                </Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </>\r\n                )}\r\n            </Container>\r\n        </Drawer>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 80vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import React from \"react\";\nimport { Divider, List, Popover, Typography } from \"antd\";\nimport styled from \"@emotion/styled\";\nimport { useUsers } from \"../utils/user\";\n\nexport const UserPopover = () => {\n  const { data: users, refetch } = useUsers();\n\n  const content = (\n    <ContentContainer>\n      <Typography.Text type={\"secondary\"}>组员列表</Typography.Text>\n      <List>\n        {users?.map((user) => (\n          <List.Item key={user.id}>\n            <List.Item.Meta title={user.name} />\n          </List.Item>\n        ))}\n      </List>\n      <Divider />\n    </ContentContainer>\n  );\n\n  return (\n    <Popover\n      onVisibleChange={() => refetch()}\n      placement={\"bottom\"}\n      content={content}\n    >\n      <span>组员</span>\n    </Popover>\n  );\n};\n\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n`;\n","import {ProjectListScreen} from \"./screens/project-list\";\r\nimport React, {useState} from \"react\";\r\nimport {useAuth} from \"./context/auth-context\";\r\nimport styled from \"@emotion/styled\";\r\nimport {ButtonNoPadding, Row} from \"./components/lib\"\r\nimport {ReactComponent as SoftwareLogo} from './assets/software-logo.svg'\r\nimport {Button, Dropdown, Menu} from \"antd\";\r\nimport {Route,Routes} from \"react-router\";\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport {ProjectScreen} from \"./screens/project\";\r\nimport {resetRoute} from \"./utils\";\r\nimport {ProjectPopover} from \"./components/project-popover\";\r\nimport {ProjectModal} from \"./screens/project-list/project-modal\";\r\nimport { UserPopover } from \"./components/user-popover\";\r\n\r\n/**\r\n * grid 和 flex 各自的应用场景\r\n * 1. 要考虑，是一维布局 还是 二维布局\r\n * 一般来说，一维布局用flex，二维布局用grid\r\n * 2. 是从内容出发还是从布局出发？\r\n * 从内容出发：你先有一组内容(数量一般不固定),然后希望他们均匀的分布在容器中，由内容自己的大小决定占据的空间\r\n * 从布局出发：先规划网格(数量一般比较固定)，然后再把元素往里填充\r\n * 从内容出发，用flex\r\n * 从布局出发，用grid\r\n *\r\n */\r\n\r\n// prop drilling\r\n\r\nexport default function AuthenticatedApp() {\r\n\r\n    return (<Container>\r\n        <Router>\r\n        <PageHeader />\r\n        <Main>\r\n            <Routes>\r\n                {/*Route匹配到相应的path，就会跳转到相应的element界面\r\n                而改变path的是list里面Link的to属性*/}\r\n            <Route path={'projects'} element={<ProjectListScreen/>}/>\r\n            <Route path={\"projects/:projectId/*\"} element={<ProjectScreen/>} />\r\n            <Route index element={<ProjectListScreen />} />\r\n            </Routes>\r\n        </Main>\r\n        <ProjectModal/>\r\n        </Router>\r\n    </Container>)\r\n}\r\n\r\nconst PageHeader=()=>{\r\n\r\n    return (<Header between={true}>\r\n        <HeaderLeft gap={true}>\r\n            <ButtonNoPadding type={'link'} onClick={resetRoute}>\r\n                <SoftwareLogo width={'18rem'} color={'rgb(38,132,255)'}/>\r\n            </ButtonNoPadding>\r\n            <ProjectPopover />\r\n            <UserPopover />\r\n        </HeaderLeft>\r\n        <HeaderRight>\r\n            <User/>\r\n        </HeaderRight>\r\n    </Header>)\r\n}\r\n\r\nconst User = ()=>{\r\n    const {logout,user}=useAuth()\r\n    return <Dropdown\r\n        overlay={\r\n            <Menu>\r\n                <Menu.Item key={\"logout\"}>\r\n                    <Button onClick={logout} type={\"link\"}>\r\n                        登出\r\n                    </Button>\r\n                </Menu.Item>\r\n            </Menu>\r\n        }>\r\n        <Button type={\"link\"} onClick={(e)=>{\r\n            e.preventDefault()\r\n        }}>Hi,{user?.name}</Button>\r\n    </Dropdown>\r\n}\r\n\r\n// temporal dead zone(暂时性死区)\r\nconst Container=styled.div`\r\ndisplay: grid;\r\ngrid-template-areas: \"header\" \"main\";\r\ngrid-template-rows: 6rem calc(100vh - 6rem);\r\nheight: 100vh;`;\r\n\r\n// grid-area 用来给grid子元素起名字\r\nconst Header = styled(Row)`\r\npadding: 3.2rem;\r\nbox-shadow: 0 0 5px 0 rgba(0,0,0,0.1);\r\nz-index: 1`;\r\n\r\nconst HeaderRight=styled.div``;\r\nconst HeaderLeft=styled(Row)``;\r\n\r\nconst Main=styled.main`\r\ndisplay: flex;\r\n  overflow: hidden;\r\ngrid-area: main;`;\r\n"],"names":["useUsers","param","client","useHttp","useQuery","data","IdSelect","props","value","onChange","defaultOptionName","options","restProps","_objectWithoutProperties","_excluded","_jsxs","Select","_objectSpread","length","toNumber","undefined","children","_jsx","Option","map","option","id","name","isNaN","Number","UserSelect","users","SearchPanel","_ref","setParam","Form","css","marginBottom","layout","FormItem","Input","placeholder","type","evt","target","personId","Pin","checked","onCheckedChange","Rate","count","num","reorder","fromId","referenceId","list","copiedList","_toConsumableArray","movingItemIndex","findIndex","item","insertAfter","targetIndex","insertBefore","from","to","toItem","removedItem","splice","toIndex","indexOf","useConfig","queryKey","callback","queryClient","useQueryClient","onSuccess","invalidateQueries","onMutate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","previousItems","wrap","_context","prev","next","getQueryData","setQueryData","old","abrupt","stop","onError","error","newItem","context","useDeleteConfig","filter","useEditConfig","useAddConfig","concat","useProjects","cleanObject","useEditProject","useMutation","params","method","useAddProject","useProject","enabled","Boolean","useUrlQueryParam","keys","_useSearchParams","useSearchParams","searchParams","_slicedToArray","setSearchParams","useSetUrlSearchParam","_useState","useState","stateKeys","useMemo","subset","Object","fromEntries","_useSearchParams3","_useSearchParams4","setSearchParam","o","useProjectsSearchParams","_useUrlQueryParam","_useUrlQueryParam2","useProjectsQueryKey","_useProjectsSearchPar","useProjectModal","_useUrlQueryParam3","_useUrlQueryParam4","projectCreate","setProjectCreate","_useUrlQueryParam5","_useUrlQueryParam6","editingProjectId","setEditingProjectId","setUrlParams","_useProject","editingProject","isLoading","projectModalOpen","open","close","startEdit","List","mutate","Table","rowKey","pagination","columns","title","disabled","render","project","pin","sorter","a","b","localeCompare","Link","String","dataIndex","_users$find","find","user","created","dayjs","format","More","_ref2","_useDeleteProject","useDeleteProject","deleteProject","Dropdown","overlay","Menu","Item","onClick","Modal","confirm","content","okText","onOk","confirmDeleteProject","ButtonNoPadding","queue","setInterval","queueToSend","console","log","Profiler","metadata","phases","React","onRender","phase","actualDuration","baseDuration","startTime","commitTime","interactions","includes","push","ProjectListScreen","useDocumentTitle","_useProjectsSearchPar2","_useProjects","useDebounce","ScreenContainer","Row","between","ErrorBox","loading","dataSource","whyDidYouRender","_defs","_g","_extends","assign","bind","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSoftwareLogo","svgRef","titleId","viewBox","xmlns","focusable","className","ref","x1","y1","x2","y2","stopColor","offset","stroke","strokeWidth","fillRule","d","fill","ForwardRef","useTasks","debouncedParam","useReorderTask","kanbanId","toKanbanId","useReorderTaskConfig","useProjectIdInUrl","_pathname$match","useLocation","pathname","match","useProjectInUrl","useKanbanSearchParams","projectId","useKanbansQueryKey","useTasksSearchParams","typeId","processorId","tagId","useTasksQueryKey","useTasksModal","editingTaskId","setEditingTaskId","_useTask","useTask","editingTask","useCallback","useTaskTypes","CreateTask","_useState2","setName","addTask","useAddTask","mutateAsync","_useState3","_useState4","inputMode","setInputMode","submit","toggle","mode","useEffect","Card","onBlur","autoFocus","onPressEnter","Mark","keyword","_Fragment","arr","split","str","index","style","color","useKanbans","useReorderKanban","useReorderKanbanConfig","Drop","Droppable","provided","droppableProps","innerRef","DropChild","_props$provided","_excluded2","Drag","_ref3","_excluded3","Draggable","draggableProps","dragHandleProps","TaskTypeIcon","_taskTypes$find","taskTypes","taskType","alt","src","taskIcon","bugIcon","TaskCard","task","cursor","KanbanColumn","kanban","allTasks","tasks","Container","TasksContainer","direction","droppableId","minHeight","taskIndex","draggableId","_ref4","useDeleteKanban","Button","cancelText","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","TaskTypeSelect","gap","width","CreateKanban","addKanban","useAddKanban","size","useEpics","EpicSelect","epics","labelCol","span","wrapperCol","TaskModal","_useForm","useForm","form","_useTasksModal","_useEditTask","useEditTask","editTask","editLoading","deleteTask","useDeleteTask","getFieldsValue","setFieldsValue","forceRender","onCancel","resetFields","confirmLoading","visible","initialValues","label","rules","required","message","textAlign","fontSize","KanbanScreen","currentProject","_useKanbans","kanbans","kanbanIsLoading","onDragEnd","useDragEnd","DragDropContext","Spin","ColumnsContainer","display","reorderKanban","reorderTask","_useTasks2$data","destination","toId","fromKanbanId","fromTask","toTask","useEpicSearchParams","useEpicsQueryKey","CreateEpic","_useAddEpic","useAddEpic","addEpic","_Form$useForm","onFinish","values","onClose","_x","Drawer","destroyOnClose","htmlType","EpicScreen","deleteEpic","useDeleteEpic","epicCreateOpen","setEpicCreateOpen","overflow","itemLayout","renderItem","epic","Meta","confirmDeleteEpic","description","start","end","epicId","ProjectScreen","routeType","units","useRouteType","Aside","selectedKeys","Main","Routes","Route","path","element","aside","_templateObject3","ProjectPopover","projects","pinnedProjects","ContentContainer","Typography","Text","Divider","Popover","onVisibleChange","placement","ProjectModal","_useProjectModal","_useMutateProject","mutateLoading","then","UserPopover","_useUsers","refetch","AuthenticatedApp","Router","PageHeader","Header","HeaderLeft","resetRoute","SoftwareLogo","HeaderRight","User","_useAuth","useAuth","logout","e","preventDefault","_templateObject4","main","_templateObject5"],"sourceRoot":""}